{"version":3,"sources":["serviceWorker.ts","api/todolists-api.ts","utils/error-utils.ts","features/Login/auth-reducer.ts","App/app-reducer.ts","features/TodolistsList/todolists-reducer.ts","features/TodolistsList/tasks-reducer.ts","App/store.ts","components/Header/Header.tsx","components/AddItemForm/AddItemForm.tsx","components/EditableSpan/EditableSpan.tsx","features/TodolistsList/Todolist/Task/Task.tsx","features/TodolistsList/Todolist/Todolist.tsx","features/TodolistsList/TodolistsList.tsx","components/ErrorSnackbar/ErrorSnackbar.tsx","features/Login/Login.tsx","App/App.tsx","index.tsx"],"names":["Boolean","window","location","hostname","match","TaskStatuses","TaskPriorities","ResultsCode","instance","axios","create","withCredentials","baseURL","headers","todolistsAPI","get","title","post","id","delete","put","taskAPI","todolistId","taskId","model","authAPI","data","handleServerAppError","dispatch","messages","length","setAppErrorAC","error","setAppStatusAC","status","handleServerNetworkError","err","message","authSlice","createSlice","name","initialState","isLoggedIn","reducers","setIsLoggedInAC","state","action","payload","value","authReducer","reducer","actions","appSlice","initialized","setAppInitializedAC","appReducer","todolistsSlice","removeTodolistAC","index","findIndex","tl","splice","addTodolistAC","unshift","todolist","filter","entityStatus","changeTodolistTitleAC","changeTodolistFilterAC","changeTodolistEntityStatusAC","setTodolistsAC","todolists","map","clearState","todolistsReducer","fetchTask","createAsyncThunk","thunkAPI","then","res","tasks","items","taskSlice","removeTaskAC","t","addTaskAC","task","todoListId","updateTaskAC","extraReducers","builder","addCase","forEach","fulfilled","tasksReducer","updateTaskTC","getState","a","find","console","warn","apiModel","description","priority","startDate","deadline","resultCode","OK","rootReducer","combineReducers","app","auth","store","configureStore","middleware","getDefaultMiddleware","prepend","thunk","useStyles","makeStyles","theme","createStyles","root","flexGrow","menuButton","marginRight","spacing","header","background","toolbar","display","justifyContent","Header","classes","useSelector","useDispatch","logoutHandler","useCallback","className","AppBar","position","Toolbar","IconButton","edge","color","Button","onClick","href","rel","target","style","AddItemForm","React","memo","addItem","disabled","useState","newTaskTitle","setNewTaskTitle","setError","addNewTask","trimmedNewTaskTitle","trim","TextField","onChange","event","currentTarget","onKeyPress","key","variant","label","helperText","ControlPoint","EditableSpan","props","titleForSpan","editMode","setEditMode","setTitle","activateEditMode","log","activateViewMode","onBlur","e","autoFocus","onDoubleClick","Task","removeTask","removeTaskTC","changeStatusHandler","checked","Completed","New","changeTaskTitleHandler","newTitle","Checkbox","Delete","Todolist","useEffect","filterClickHandler","filterValue","activeClassButton","filterStatus","removeTodoList","removeTodolistTC","addTaskForTodoList","todolistID","item","addTaskTC","changeTodoListTitle","changeTodolistTitleTC","GetTaskForTodoList","filteredTasks","getFilteredTasks","minHeight","TodolistsList","addTodoListForm","addTodolistTC","Grid","container","padding","alignItems","Paper","elevation","to","Alert","ErrorSnackbar","handleClose","reason","isOpen","Snackbar","open","autoHideDuration","onClose","severity","Login","formik","useFormik","validate","values","email","test","password","initialValues","rememberMe","onSubmit","justify","height","handleSubmit","backgroundColor","borderRadius","FormControl","FormLabel","lineHeight","fontSize","FormGroup","getFieldProps","errors","margin","type","FormControlLabel","control","width","handleReset","App","isInitialized","LinearProgress","Container","fixed","exact","path","render","CircularProgress","size","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"0OAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,IC2CMC,EAMAC,EA4CAC,E,yDAzGNC,E,OAAWC,EAAMC,OAAO,CAC3BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACN,UAAW,0CAIJC,EAAe,WAEtB,OAAON,EAASO,IAAoB,eAF7BD,EAAe,SAIVE,GACZ,OAAOR,EAASS,KAA2C,aAAc,CAACD,WALnEF,EAAe,SAOVI,GACZ,OAAOV,EAASW,OAAT,qBAA4CD,KAR5CJ,EAAe,SAULI,EAAYF,GAC7B,OAAOR,EAASY,IAAT,qBAAyCF,GAAM,CAACF,WAIhDK,EAAU,SACXC,GACN,OAAOd,EAASO,IAAT,qBAA4CO,EAA5C,YAFAD,EAAU,SAITC,EAAoBN,GAC5B,OAAOR,EAASS,KAAT,qBAA8DK,EAA9D,UAAkF,CAACN,WALnFK,EAAU,SAOTC,EAAoBC,GAC5B,OAAOf,EAASW,OAAT,qBAA4CG,EAA5C,kBAAgEC,KARhEF,EAAU,SAUTC,EAAoBC,EAAgBC,GAC5C,OAAOhB,EAASY,IAAT,qBAAyCE,EAAzC,kBAA6DC,GAAUC,IAIvEC,EAAU,SACfC,GACF,OAAOlB,EAASS,KAAwC,aAAcS,IAF/DD,EAAU,WAKjB,OAAOjB,EAASO,IAA8D,YALvEU,EAAU,WAQjB,OAAOjB,EAASW,OAAqB,gB,SAS/Bd,O,aAAAA,I,2BAAAA,I,yBAAAA,I,kBAAAA,M,cAMAC,O,aAAAA,I,mBAAAA,I,WAAAA,I,uBAAAA,I,kBAAAA,M,cA4CAC,O,WAAAA,I,kBAAAA,M,KC3GL,IAAMoB,EAAuB,SAAID,EAAuBE,GACxDF,EAAKG,SAASC,OACfF,EAASG,EAAc,CAACC,MAAON,EAAKG,SAAS,MAE7CD,EAASG,EAAc,CAACC,MAAO,yBAElCJ,EAASK,EAAe,CAACC,OAAQ,aAGtBC,EAA2B,SAACC,EAAyBR,GAC/DA,EAASG,EAAc,CAACC,MAAOI,EAAIC,QAAUD,EAAIC,QAAU,yBAC3DT,EAASK,EAAe,CAACC,OAAQ,a,QCJ/BI,EAAYC,YAAY,CAC3BC,KAAM,OACNC,aANkB,CAClBC,YAAY,GAMZC,SAAU,CACPC,gBAAiB,SAACC,EAAOC,GACtBD,EAAMH,WAAaI,EAAOC,QAAQC,UAI9BC,EAAcX,EAAUY,QACvBN,EAAmBN,EAAUa,QAA7BP,gBCTRQ,EAAWb,YAAY,CAC1BC,KAAM,MACNC,aARoC,CACpCP,OAAQ,OACRF,MAAO,KACPqB,aAAa,GAMbV,SAAU,CACPZ,cAAe,SAACc,EAAOC,GACpBD,EAAMb,MAAQc,EAAOC,QAAQf,OAEhCC,eAAgB,SAACY,EAAOC,GACrBD,EAAMX,OAASY,EAAOC,QAAQb,QAEjCoB,oBAAqB,SAACT,EAAOC,GAC1BD,EAAMQ,YAAcP,EAAOC,QAAQC,UAK/BO,EAAaH,EAASF,QAC5B,EAA6DE,EAASD,QAA/DlB,EAAP,EAAOA,eAAgBqB,EAAvB,EAAuBA,oBAAqBvB,EAA5C,EAA4CA,cCtB7CU,EAAqC,GAErCe,EAAiBjB,YAAY,CACjCC,KAAM,YACNC,eACAE,SAAU,CACRc,iBAAkB,SAACZ,EAAOC,GACxB,IAAMY,EAAQb,EAAMc,WAAU,SAAAC,GAAE,OAAIA,EAAG1C,KAAO4B,EAAOC,QAAQzB,cAC7DuB,EAAMgB,OAAOH,EAAO,IAEtBI,cAAe,SAACjB,EAAOC,GACrBD,EAAMkB,QAAN,2BAAkBjB,EAAOC,QAAQiB,UAAjC,IAA2CC,OAAQ,MAAOC,aAAc,WAE1EC,sBAAuB,SAACtB,EAAOC,GAC7B,IAAMY,EAAQb,EAAMc,WAAU,SAAAC,GAAE,OAAIA,EAAG1C,KAAO4B,EAAOC,QAAQzB,cAC7DuB,EAAMa,GAAO1C,MAAQ8B,EAAOC,QAAQ/B,OAEtCoD,uBAAwB,SAACvB,EAAOC,GAC9B,IAAMY,EAAQb,EAAMc,WAAU,SAAAC,GAAE,OAAIA,EAAG1C,KAAO4B,EAAOC,QAAQzB,cAC7DuB,EAAMa,GAAOO,OAASnB,EAAOC,QAAQkB,QAEvCI,6BAA8B,SAACxB,EAAOC,GACpC,IAAMY,EAAQb,EAAMc,WAAU,SAAAC,GAAE,OAAIA,EAAG1C,KAAO4B,EAAOC,QAAQzB,cAC7DuB,EAAMa,GAAOQ,aAAepB,EAAOC,QAAQb,QAE7CoC,eAAgB,SAACzB,EAAOC,GACtB,OAAOA,EAAOC,QAAQwB,UAAUC,KAAI,SAAAZ,GAAE,kCAASA,GAAT,IAAaK,OAAQ,MAAOC,aAAc,aAElFO,WAAY,WACV,OAAO,eACFhC,OAMEiC,EAAmBlB,EAAeN,QACxC,EAQHM,EAAeL,QAPjBM,EADK,EACLA,iBACAK,EAFK,EAELA,cACAK,EAHK,EAGLA,sBACAC,EAJK,EAILA,uBACAC,EALK,EAKLA,6BACAC,EANK,EAMLA,eACAG,EAPK,EAOLA,WC5CWE,EAAYC,YACvB,mBACA,SAACtD,EAAoBuD,GAEnB,OADAA,EAASjD,SAASK,EAAe,CAACC,OAAQ,aACnCb,EAAiBC,GACrBwD,MAAK,SAACC,GACL,IAAMC,EAAQD,EAAIrD,KAAKuD,MAEvB,OADAJ,EAASjD,SAASK,EAAe,CAACC,OAAQ,eACnC,CAAC8C,QAAO1D,oBAIjB4D,EAAY3C,YAAY,CAC5BC,KAAM,QACNC,aAAc,GACdE,SAAU,CACRwC,aAAc,SAACtC,EAAOC,GACpB,IAAMY,EAAQb,EAAMC,EAAOC,QAAQzB,YAAYqC,WAAU,SAAAyB,GAAC,OAAIA,EAAElE,KAAO4B,EAAOC,QAAQxB,UACtFsB,EAAMC,EAAOC,QAAQzB,YAAYuC,OAAOH,EAAO,IAEjD2B,UAAW,SAACxC,EAAOC,GACjBD,EAAMC,EAAOC,QAAQuC,KAAKC,YAAYxB,QAAQjB,EAAOC,QAAQuC,OAE/DE,aAAc,SAAC3C,EAAOC,GACpB,IAAMwC,EAAOzC,EAAMC,EAAOC,QAAQzB,YAC5BoC,EAAQ4B,EAAK3B,WAAU,SAAAyB,GAAC,OAAIA,EAAElE,KAAO4B,EAAOC,QAAQxB,UAC1D+D,EAAK5B,GAAL,2BAAkB4B,EAAK5B,IAAWZ,EAAOC,QAAQvB,SAGrDiE,cAAe,SAACC,GACdA,EAAQC,QAAQ7B,GAAe,SAACjB,EAAOC,GACrCD,EAAMC,EAAOC,QAAQiB,SAAS9C,IAAM,MAEnCyE,QAAQlC,GAAkB,SAACZ,EAAOC,UAC1BD,EAAMC,EAAOC,QAAQzB,eAE7BqE,QAAQrB,GAAgB,SAACzB,EAAOC,GAC/BA,EAAOC,QAAQwB,UAAUqB,SAAQ,SAAAhC,GAAE,OAAIf,EAAMe,EAAG1C,IAAM,SAEvDyE,QAAQlB,GAAY,WACnB,MAAO,MAERkB,QAAQhB,EAAUkB,WAAW,SAAChD,EAAOC,GACpCD,EAAMC,EAAOC,QAAQzB,YAAcwB,EAAOC,QAAQiC,YAK7Cc,GAAeZ,EAAUhC,QAC/B,GAIHgC,EAAU/B,QAHZgC,GADK,GACLA,aACAE,GAFK,GAELA,UACAG,GAHK,GAGLA,aAoCWO,GAAe,SAACxE,EAAgBC,EAAkCF,GAAnD,8CAC1B,WAAOM,EACAoE,GADP,qBAAAC,EAAA,yDAEErE,EAASK,EAAe,CAACC,OAAQ,aAFnC,SAIUW,EAAQmD,IACRV,EAAOzC,EAAMmC,MAAM1D,GAAY4E,MAAK,SAAAd,GAAC,OAAIA,EAAElE,KAAOK,KAL5D,uBAOM4E,QAAQC,KAAK,+BAPnB,iCAUUC,EAVV,aAWMrF,MAAOsE,EAAKtE,MACZsF,YAAahB,EAAKgB,YAClBpE,OAAQoD,EAAKpD,OACbqE,SAAUjB,EAAKiB,SACfC,UAAWlB,EAAKkB,UAChBC,SAAUnB,EAAKmB,UACZjF,GAjBT,UAmBsBH,EAAmBC,EAAYC,EAAQ8E,GAnB7D,SAmBUtB,EAnBV,QAoBYrD,KAAKgF,aAAenG,EAAYoG,GACtC/E,EAAS4D,GAAa,CAACjE,SAAQC,QAAOF,gBAEtCK,EAAqBoD,EAAIrD,KAAME,GAvBrC,kDA0BIO,EAAyB,EAAD,GAAMP,GA1BlC,yBA4BIA,EAASK,EAAe,CAACC,OAAQ,eA5BrC,6EAD0B,yD,SCvFtB0E,GAAcC,YAAgB,CACjCtC,UAAWG,EACXM,MAAOc,GACPgB,IAAKvD,EACLwD,KAAM9D,IAGI+D,GAAQC,YAAe,CACjC/D,QAAS0D,GACTM,WAAY,SAAAC,GAAoB,OAAIA,IAAuBC,QAAQC,S,4GCLhEC,GAAYC,cAAW,SAACC,GAAD,OAC1BC,aAAa,CACVC,KAAM,CACHC,SAAU,GAEbC,WAAY,CACTC,YAAaL,EAAMM,QAAQ,IAE9BC,OAAQ,CACLC,WAAY,iGAEfC,QAAS,CACNC,QAAS,OACTC,eAAgB,sBAKZC,GAAmB,WAC7B,IAAMC,EAAUf,KACV5E,EAAa4F,aAAuC,SAAAzF,GAAK,OAAIA,EAAMkE,KAAKrE,cACxEd,EAAW2G,cAEXC,EAAgBC,uBAAY,WAC/B7G,ELIkB,uCAAmB,WAAMA,GAAN,eAAAqE,EAAA,6DACxCrE,EAASK,EAAe,CAACC,OAAQ,aADO,kBAGnBT,IAHmB,QAG/BsD,EAH+B,QAI7BrD,KAAKgF,aAAenG,EAAYoG,GACrC/E,EAASgB,EAAgB,CAACI,OAAO,KAEjCrB,EAAqBoD,EAAIrD,KAAME,GAPG,gDAUrCO,EAAyB,EAAD,GAAMP,GAVO,yBAYrCA,EAASK,EAAe,CAACC,OAAQ,eACjCN,EAAS6C,KAb4B,4EAAnB,yDKHnB,CAAC7C,IAEH,OACG,sBAAK8G,UAAWL,EAAQX,KAAxB,SACG,eAACiB,GAAA,EAAD,CAAQC,SAAS,SAASF,UAAWL,EAAQN,OAA7C,SACG,gBAACc,GAAA,EAAD,CAASH,UAAWL,EAAQJ,QAA5B,UACG,eAACa,GAAA,EAAD,CAAYC,KAAK,QAAQL,UAAWL,EAAQT,WAAYoB,MAAM,UAAU,aAAW,OAAnF,SACG,eAAC,KAAD,MAEFtG,EACI,eAACuG,GAAA,EAAD,CAAQC,QAASV,EAAeQ,MAAM,UAAtC,qBACA,eAACC,GAAA,EAAD,CAAQD,MAAM,UAAd,SAAwB,oBAAGG,KAAM,wCACNC,IAAK,aACLC,OAAQ,SACRC,MAAO,CAACN,MAAO,WAHlB,qC,iDCtC/BO,GAA8CC,IAAMC,MAAO,YAA0B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,SAChF,EAAwCC,mBAAS,IAAjD,oBAAOC,EAAP,KAAqBC,EAArB,KACA,EAA0BF,mBAAwB,MAAlD,oBAAO5H,EAAP,KAAc+H,EAAd,KAaMC,EAAa,WAChB,IAAMC,EAAsBJ,EAAaK,OACrCD,EACDP,EAAQO,GAERF,EAAS,qBAEZD,EAAgB,KAGnB,OACG,iCACG,eAACK,GAAA,EAAD,CACGnI,QAASA,EACTgB,MAAO6G,EACPO,SA1Be,SAACC,GACtBP,EAAgBO,EAAMC,cAActH,QA0B9BuH,WAxBiB,SAACF,GACV,OAAVrI,GACD+H,EAAS,MAEM,UAAdM,EAAMG,KACPR,KAoBGS,QAAS,WACTC,MAAO,aACPC,WAAY3I,EACZ2H,SAAUA,IAEb,eAACb,GAAA,EAAD,CAAYI,QAASc,EAAYhB,MAAO,UAAWW,SAAUA,EAA7D,SACG,eAACiB,GAAA,EAAD,YCzCCC,GAAgDrB,IAAMC,MAAK,SAACqB,GACtE,IAAOC,EAA0BD,EAA1BC,aAAcX,EAAYU,EAAZV,SAErB,EAAgCR,oBAAS,GAAzC,oBAAOoB,EAAP,KAAiBC,EAAjB,KACA,EAA0BrB,mBAAS,IAAnC,oBAAO5I,EAAP,KAAckK,EAAd,KAEMC,EAAmB1C,uBAAY,WAClCtC,QAAQiF,IAAI,OACZH,GAAY,GACZC,EAASH,KACT,CAACA,IAEEM,EAAmB5C,uBAAY,WAC9BzH,EAAMkJ,SACPe,GAAY,GACZb,EAASpJ,MAEb,CAACoJ,EAAUpJ,IASb,OACGgK,EACK,eAACb,GAAA,EAAD,CACCmB,OAAQD,EACRrI,MAAOhC,EACPoJ,SAbwB,SAACmB,GAAD,OAAsCL,EAASK,EAAEjB,cAActH,QAcvFwI,WAAS,EACTjB,WAbsB,SAACgB,GACf,UAAVA,EAAEf,KACHa,OAaE,uBAAMI,cAAeN,EAArB,SAAwCJ,O,oBC5BtCW,GAAgClC,IAAMC,MAAK,SAACqB,GAEtD,IAAOxF,EAAoBwF,EAApBxF,KAAMhE,EAAcwJ,EAAdxJ,WAEPM,EAAW2G,cAEXoD,EAAalD,uBAAY,WAC5B,OAAO7G,EL4Ce,SAACL,EAAgBD,GAAjB,8CAAsD,WAAMM,GAAN,eAAAqE,EAAA,6DAChFrE,EAASK,EAAe,CAACC,OAAQ,aAD+C,kBAG5Db,EAAmBC,EAAYC,GAH6B,QAGxEwD,EAHwE,QAItErD,KAAKgF,aAAenG,EAAYoG,GACtC/E,EAASuD,GAAa,CAAC5D,SAAQD,gBAE/BK,EAAqBoD,EAAIrD,KAAME,GAP6C,gDAU9EO,EAAyB,EAAD,GAAMP,GAVgD,yBAY9EA,EAASK,EAAe,CAACC,OAAQ,eAZ6C,4EAAtD,sDK5CN0J,CAAatG,EAAKpE,GAAII,MACnC,CAACM,EAAU0D,EAAKpE,GAAII,IAEpBuK,EAAsBpD,uBAAY,SAAC8C,GACtC,IACMrJ,EADgBqJ,EAAEjB,cAAcwB,QACPzL,EAAa0L,UAAY1L,EAAa2L,IACrEpK,EAASmE,GAAaT,EAAKpE,GAAI,CAACgB,UAASZ,MACzC,CAACM,EAAU0D,EAAKpE,GAAII,IAEjB2K,EAAyBxD,uBAAY,SAACyD,GACzCtK,EAASmE,GAAaT,EAAKpE,GAAI,CAACF,MAAOkL,GAAW5K,MAClD,CAACM,EAAU0D,EAAKpE,GAAII,IAGvB,OACG,gCACG,eAAC6K,GAAA,EAAD,CACGL,QAASxG,EAAKpD,SAAW7B,EAAa0L,UACtC3B,SAAUyB,IAEb,eAAChB,GAAD,CAAcE,aAAczF,EAAKtE,MAAOoJ,SAAU6B,IAClD,eAACnD,GAAA,EAAD,CAAYI,QAASyC,EAArB,SACG,eAACS,GAAA,EAAD,YCtBCC,GAAwC7C,IAAMC,MAAK,YAAiB,IAAfzF,EAAc,EAAdA,SAEpD1C,EAA2C0C,EAA/C9C,GAAgB+C,EAA+BD,EAA/BC,OAAQjD,EAAuBgD,EAAvBhD,MAAOkD,EAAgBF,EAAhBE,aAEhCtC,EAAW2G,cACXvD,EAAQsD,aAA0C,SAAAzF,GAAK,OAAIA,EAAMmC,MAAM1D,MAE7EgL,qBAAU,WACP1K,EAAS+C,EAAUrD,MAEnB,IAGH,IAAMiL,EAAqB9D,uBAAY,SAAC+D,GACrC,OAAQA,GACL,IAAK,MACF5K,EAASwC,EAAuB,CAAC9C,aAAY2C,OAAQ,SACrD,MACH,IAAK,SACFrC,EAASwC,EAAuB,CAAC9C,aAAY2C,OAAQ,YACrD,MACH,IAAK,YACFrC,EAASwC,EAAuB,CAAC9C,aAAY2C,OAAQ,kBAG3D,CAAC3C,EAAYM,IAEV6K,EAAoBhE,uBAAY,SAACiE,GACpC,OAAOzI,IAAWyI,EAAe,YAAc,SAC/C,CAACzI,IAEE0I,EAAiBlE,uBAAY,SAACnH,GACjCM,EP8B0B,SAACN,GAAD,8CAAsC,WAAMM,GAAN,eAAAqE,EAAA,6DACpErE,EAASK,EAAe,CAACC,OAAQ,aACjCN,EAASyC,EAA6B,CAAC/C,aAAYY,OAAQ,aAFS,kBAIhDpB,EAA4BQ,GAJoB,QAI5DyD,EAJ4D,QAK1DrD,KAAKgF,aAAenG,EAAYoG,GACtC/E,EAAS6B,EAAiB,CAACnC,WAAYA,KAEvCK,EAAqBoD,EAAIrD,KAAME,GARiC,gDAWlEO,EAAyB,EAAD,GAAMP,GAXoC,yBAalEA,EAASK,EAAe,CAACC,OAAQ,eAbiC,4EAAtC,sDO9BjB0K,CAAiBtL,MAC1B,CAACM,IAEEiL,EAAqBpE,uBAAY,SAACzH,GACrCY,ENuBmB,SAACZ,EAAe8L,GAAhB,8CAAqD,WAAMlL,GAAN,eAAAqE,EAAA,6DAC5ErE,EAASK,EAAe,CAACC,OAAQ,aAD2C,kBAGxDb,EAAmByL,EAAY9L,GAHyB,QAGpE+D,EAHoE,QAIlErD,KAAKgF,aAAenG,EAAYoG,GACtC/E,EAASyD,GAAU,CAACC,KAAMP,EAAIrD,KAAKA,KAAKqL,QAExCpL,EAAqBoD,EAAIrD,KAAME,GAPyC,gDAU1EO,EAAyB,EAAD,GAAMP,GAV4C,yBAY1EA,EAASK,EAAe,CAACC,OAAQ,eAZyC,4EAArD,sDMvBV8K,CAAUhM,EAAOM,MAC1B,CAACM,EAAUN,IAER2L,EAAsBxE,uBAAY,SAACyD,GACtCtK,EPsC+B,SAACN,EAAoBN,GAArB,8CAAqD,WAAMY,GAAN,eAAAqE,EAAA,6DACxFrE,EAASK,EAAe,CAACC,OAAQ,aADuD,kBAGpEpB,EAAiCQ,EAAYN,GAHuB,QAGhF+D,EAHgF,QAI9ErD,KAAKgF,aAAenG,EAAYoG,GACtC/E,EAASuC,EAAsB,CAAC7C,aAAYN,WAE5CW,EAAqBoD,EAAIrD,KAAME,GAPqD,gDAUtFO,EAAyB,EAAD,GAAMP,GAVwD,yBAYtFA,EAASK,EAAe,CAACC,OAAQ,eAZqD,4EAArD,sDOtCtBgL,CAAsB5L,EAAY4K,MAC3C,CAACtK,EAAUN,IAaR6L,EAXmB1E,uBAAY,WAClC,IAAM2E,EAAgBpI,EACtB,OAAQf,GACL,IAAK,SACF,OAAOmJ,EAAcnJ,QAAO,SAAAmB,GAAC,OAAIA,EAAElD,SAAW7B,EAAa2L,OAC9D,IAAK,YACF,OAAOoB,EAAcnJ,QAAO,SAAAmB,GAAC,OAAIA,EAAElD,SAAW7B,EAAa0L,aAC9D,QACG,OAAOqB,KAEb,CAACnJ,EAAQe,GACeqI,GAE3B,OACG,iCACG,gCACG,eAACxC,GAAD,CAAcE,aAAc/J,EAAOoJ,SAAU6C,IAC7C,eAACnE,GAAA,EAAD,CAAYI,QAAS,kBAAMyD,EAAerL,IAAaqI,SAA2B,YAAjBzF,EAAjE,SACG,eAACkI,GAAA,EAAD,SAGN,eAAC7C,GAAD,CAAaG,QAASmD,EAAoBlD,SAA2B,YAAjBzF,IACpD,qBAAIoF,MAAO,CAACgE,UAAW,SAAvB,SAEMH,EAAmB3I,KAAI,SAAAY,GACpB,OAAO,eAACsG,GAAD,CACJpK,WAAYA,EACZgE,KAAMF,GACDA,EAAElE,SAKnB,iCACG,eAAC+H,GAAA,EAAD,CACGwB,QAASgC,EAAkB,OAC3BvD,QAAS,kBAAMqD,EAAmB,QAFrC,iBAIA,eAACtD,GAAA,EAAD,CACGD,MAAO,UACPyB,QAASgC,EAAkB,UAC3BvD,QAAS,kBAAMqD,EAAmB,WAHrC,oBAKA,eAACtD,GAAA,EAAD,CACGD,MAAO,YACPyB,QAASgC,EAAkB,aAC3BvD,QAAS,kBAAMqD,EAAmB,cAHrC,gC,SClGCgB,GAA0B,WAEpC,IAAM3L,EAAW2G,cACXhE,EAAY+D,aAAoD,SAAAzF,GAAK,OAAIA,EAAM0B,aAC/E7B,EAAa4F,aAAuC,SAAAzF,GAAK,OAAIA,EAAMkE,KAAKrE,cAG9E4J,qBAAU,WACF5J,GAGLd,ERqC0B,uCAAoB,WAAMA,GAAN,eAAAqE,EAAA,6DAClDrE,EAASK,EAAe,CAACC,OAAQ,aADiB,kBAG9BpB,IAH8B,OAG1CiE,EAH0C,OAIhDnD,EAAS0C,EAAe,CAACC,UAAWQ,EAAIrD,QAJQ,gDAMhDS,EAAyB,EAAD,GAAMP,GANkB,yBAQhDA,EAASK,EAAe,CAACC,OAAQ,eARe,4EAApB,yDQnC1B,CAACQ,IAEJ,IAAM8K,EAAkB/E,uBAAY,SAACzH,GAClC,IAAM8B,ER2CiB,SAAC9B,GAAD,8CAAiC,WAAMY,GAAN,eAAAqE,EAAA,6DAC5DrE,EAASK,EAAe,CAACC,OAAQ,aAD2B,kBAGxCpB,EAA4BE,GAHY,QAGpD+D,EAHoD,QAIlDrD,KAAKgF,aAAenG,EAAYoG,GACtC/E,EAASkC,EAAc,CAACE,SAAUe,EAAIrD,KAAKA,KAAKqL,QAEhDpL,EAAqBoD,EAAIrD,KAAME,GAPyB,gDAU1DO,EAAyB,EAAD,GAAMP,GAV4B,yBAY1DA,EAASK,EAAe,CAACC,OAAQ,eAZyB,4EAAjC,sDQ3CRuL,CAAczM,GAC7BY,EAASkB,KACT,CAAClB,IAEJ,OAAKc,EAKF,uCACG,eAACgL,GAAA,EAAD,CAAMC,WAAS,EAACrE,MAAO,CAACsE,QAAS,OAAQ1F,QAAS,OAAQC,eAAgB,SAAU0F,WAAY,UAAhG,SACG,eAACC,GAAA,EAAD,CAAOxE,MAAO,CAACsE,QAAS,QAAxB,SACG,eAACrE,GAAD,CAAaG,QAAS8D,QAG5B,eAACE,GAAA,EAAD,CAAMC,WAAS,EAAC7F,QAAS,EAAzB,SAEMvD,EAAUC,KAAI,SAAAZ,GACX,OAAO,eAAC8J,GAAA,EAAD,CAAMX,MAAI,EAAV,SACJ,eAACe,GAAA,EAAD,CAAOC,UAAW,EAAGzE,MAAO,CAACsE,QAAS,QAAtC,SACG,eAACvB,GAAD,CAEGrI,SAAUJ,GADLA,EAAG1C,OAHM0C,EAAG1C,YAb/B,eAAC,KAAD,CAAU8M,GAAI,Y,oBCvB3B,SAASC,GAAMnD,GACZ,OAAO,eAAC,KAAD,aAAUiD,UAAW,EAAGtD,QAAQ,UAAaK,IAIhD,IAAMoD,GAAgB,WAC1B,IAAMlM,EAAQsG,aAA6C,SAAAzF,GAAK,OAAIA,EAAMiE,IAAI9E,SACxEJ,EAAW2G,cAEX4F,EAAc,SAAC9D,EAA8B+D,GACjC,cAAXA,GAGJxM,EAASG,EAAc,CAACC,MAAO,SAG5BqM,EAAmB,OAAVrM,EAEf,OACM,eAACsM,GAAA,EAAD,CAAUC,KAAMF,EAAQG,iBAAkB,IAAMC,QAASN,EAAzD,SACG,eAAC,GAAD,CAAOM,QAASN,EAAaO,SAAS,QAAtC,SACI1M,O,6ECpBH2M,GAAQnF,IAAMC,MAAK,WAE7B,IAAM7H,EAAW2G,cAEX7F,EAAa4F,aAAuC,SAAAzF,GAAK,OAAIA,EAAMkE,KAAKrE,cAExEkM,EAASC,aAAU,CACtBC,SAAU,SAACC,GACR,OAAKA,EAAOC,MAIA,4CAA4CC,KAAKF,EAAOC,OAK/DD,EAAOG,cAAZ,EACU,CACJA,SAAU,wBANN,CACJF,MAAO,yBALH,CACJA,MAAO,sBAahBG,cAAe,CACZH,MAAO,GACPE,SAAU,GACVE,YAAY,GAEfC,SAAU,SAAAN,GZXO,IAACrN,EYYfE,GZZeF,EYYEqN,EZZH,uCAAyC,WAAMnN,GAAN,eAAAqE,EAAA,6DAC7DrE,EAASK,EAAe,CAACC,OAAQ,aAD4B,kBAGxCT,EAAaC,GAH2B,QAGpDqD,EAHoD,QAIlDrD,KAAKgF,aAAenG,EAAYoG,GACrC/E,EAASgB,EAAgB,CAACI,OAAO,KAEjCrB,EAAqBoD,EAAIrD,KAAME,GAPwB,gDAU1DO,EAAyB,EAAD,GAAMP,GAV4B,yBAY1DA,EAASK,EAAe,CAACC,OAAQ,eAZyB,4EAAzC,2DYgBpB,OAAIQ,EACM,eAAC,KAAD,CAAUsL,GAAI,MAGjB,eAACN,GAAA,EAAD,CAAMC,WAAS,EAAC2B,QAAQ,SAASzB,WAAW,SAASvE,MAAO,CAACiG,OAAQ,QAArE,SACD,uBAAMF,SAAUT,EAAOY,aACjBlG,MAAO,CAACmG,gBAAiB,UAAW7B,QAAS,OAAQ8B,aAAc,QADzE,SAEG,gBAACC,GAAA,EAAD,WACG,gBAACC,GAAA,EAAD,CAAWtG,MAAO,CAACuG,WAAY,OAAQC,SAAU,QAAjD,UACG,0DACG,oBAAG3G,KAAM,wCACNC,IAAK,aACLC,OAAQ,SAFX,sBAKH,yEACA,2DACA,mDAEH,gBAAC0G,GAAA,EAAD,WACG,eAAC5F,GAAA,EAAD,2BACOyE,EAAOoB,cAAc,UAD5B,IAEGhO,QAAS4M,EAAOqB,OAAOjB,MACvBtE,MAAM,QACNwF,OAAO,YAETtB,EAAOqB,OAAOjB,MACZ,sBAAK1F,MAAO,CAACwG,SAAU,OAAQ9G,MAAO,OAAtC,SAA+C4F,EAAOqB,OAAOjB,QAAe,KAC/E,eAAC7E,GAAA,EAAD,2BACOyE,EAAOoB,cAAc,aAD5B,IAEGhO,QAAS4M,EAAOqB,OAAOf,SACvBiB,KAAK,WACLzF,MAAM,WACNwF,OAAO,YAETtB,EAAOqB,OAAOf,SACZ,sBAAK5F,MAAO,CAACwG,SAAU,OAAQ9G,MAAO,OAAtC,SAA+C4F,EAAOqB,OAAOf,WAAkB,KAClF,eAACkB,GAAA,EAAD,CACG1F,MAAO,cACP2F,QAAS,eAAClE,GAAA,EAAD,2BACFyC,EAAOoB,cAAc,eADnB,IAENlE,QAAS8C,EAAOG,OAAOK,gBAG7B,gBAAC1B,GAAA,EAAD,CAAMC,WAAS,EAAC2B,QAAQ,gBAAgBhG,MAAO,CAACgH,MAAO,OAAQpI,QAAS,QAAxE,UACG,eAACe,GAAA,EAAD,CAAQK,MAAO,CAACgH,MAAO,SAAUH,KAAM,SAC/B1F,QAAS,YAAazB,MAAO,UADrC,mBAEA,eAACC,GAAA,EAAD,CAAQC,QAAS0F,EAAO2B,YAAaJ,KAAM,QAAS1F,QAAS,YACrDzB,MAAO,UADf,mCCvERwH,GAAM,WAEhB,IAAMtO,EAASoG,aAAiD,SAAAzF,GAAK,OAAIA,EAAMiE,IAAI5E,UAC7EuO,EAAgBnI,aAAuC,SAAAzF,GAAK,OAAIA,EAAMiE,IAAIzD,eAC1EzB,EAAW2G,cASjB,OANA+D,qBAAU,WACP1K,EZQ0B,uCAAoB,WAAMA,GAAN,eAAAqE,EAAA,+EAE5BxE,IAF4B,OAExCsD,EAFwC,OAG9CnD,EAAS0B,EAAoB,CAACN,OAAO,KACjC+B,EAAIrD,KAAKgF,aAAenG,EAAYoG,GACrC/E,EAASgB,EAAgB,CAACI,OAAO,KAEjCrB,EAAqBoD,EAAIrD,KAAME,GAPY,gDAU9CO,EAAyB,EAAD,GAAMP,GAVgB,yDAApB,yDYN1B,IAGE6O,EASF,eAAC,KAAD,UACG,uBAAK/H,UAAU,MAAf,UACG,eAAC,GAAD,IACA,eAAC,GAAD,IACA,sBAAKA,UAAW,WAAhB,SACe,YAAXxG,GAAwB,eAACwO,GAAA,EAAD,CAAgB1H,MAAM,gBAElD,gBAAC2H,GAAA,EAAD,CAAWC,OAAK,EAAhB,UACG,eAAC,KAAD,CAAOC,OAAK,EAACC,KAAM,IAAKC,OAAQ,kBAAM,eAAC,GAAD,OACtC,eAAC,KAAD,CAAOD,KAAM,SAAUC,OAAQ,kBAAM,eAACpC,GAAD,eAjBvC,eAACgC,GAAA,EAAD,UACJ,eAACjD,GAAA,EAAD,CAAMC,WAAS,EAAC2B,QAAS,SAAUzB,WAAY,SAAUvE,MAAO,CAACiG,OAAQ,SAAzE,SACG,eAACyB,GAAA,EAAD,CAAkBhI,MAAO,YAAaiI,KAAM,WCzBxDC,IAASH,OACN,eAAC,IAAD,CAAU/J,MAAOA,GAAjB,SACG,eAAC,GAAD,MACUmK,SAASC,eAAe,SjBgIlC,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBzM,MAAK,SAAA0M,GACJA,EAAaC,gBAEdC,OAAM,SAAA1P,GACLmE,QAAQnE,MAAMA,EAAMK,c","file":"static/js/main.9658f784.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import axios from \"axios\";\n\n\n/**\n * Api\n */\nconst instance = axios.create({\n   withCredentials: true,\n   baseURL: 'https://social-network.samuraijs.com/api/1.1/',\n   headers: {\n      'API-KEY': '3928f52f-fe0d-4ea9-97d7-8b764f267e74'\n   },\n});\n\nexport const todolistsAPI = {\n   getTodolist() {\n      return instance.get<TodolistType[]>('todo-lists')\n   },\n   createTodolist(title: string) {\n      return instance.post<ResponseType<{ item: TodolistType }>>('todo-lists', {title})\n   },\n   deleteTodolist(id: string) {\n      return instance.delete<ResponseType>(`todo-lists/${id}`)\n   },\n   updateTodolistTitle(id: string, title: string) {\n      return instance.put<ResponseType>(`todo-lists/${id}`, {title})\n   }\n}\n\nexport const taskAPI = {\n   getTasks(todolistId: string) {\n      return instance.get<GetTaskResponse>(`todo-lists/${todolistId}/tasks`)\n   },\n   createTask(todolistId: string, title: string) {\n      return instance.post<ResponseType<{ item: TaskType }>>(`todo-lists/${todolistId}/tasks`, {title})\n   },\n   deleteTask(todolistId: string, taskId: string) {\n      return instance.delete<ResponseType>(`todo-lists/${todolistId}/tasks/${taskId}`)\n   },\n   updateTask(todolistId: string, taskId: string, model: UpdateTaskModelType) {\n      return instance.put<ResponseType>(`todo-lists/${todolistId}/tasks/${taskId}`, model)\n   }\n}\n\nexport const authAPI = {\n   auth(data: LoginParamsType) {\n      return instance.post<ResponseType<{ userId?: number }>>('auth/login', data)\n   },\n   me() {\n      return instance.get<ResponseType<{id: number, email: string, login: string}>>('auth/me')\n   },\n   logout() {\n      return instance.delete<ResponseType>('auth/login')\n   }\n}\n\n\n\n/**\n * Types\n */\nexport enum TaskStatuses {\n   New = 0,\n   InProgress = 1,\n   Completed = 2,\n   Draft = 3\n}\nexport enum TaskPriorities {\n   low = 0,\n   Middle = 1,\n   Hi = 2,\n   Urgently = 3,\n   Later = 4\n}\nexport type TodolistType = {\n   id: string,\n   title: string,\n   addedDate: string,\n   order: number\n}\nexport type TaskType = {\n   description: string\n   title: string\n   status: TaskStatuses\n   priority: TaskPriorities\n   startDate: string\n   deadline: string\n   id: string\n   todoListId: string\n   order: number\n   addedDate: string\n}\nexport type UpdateTaskModelType = {\n   title: string\n   description: string\n   status: TaskStatuses\n   priority: TaskPriorities\n   startDate: string\n   deadline: string\n}\ntype GetTaskResponse = {\n   error: string | null\n   totalCount: number\n   items: TaskType[]\n}\nexport type ResponseType<D = {}> = {\n   fieldsErrors: string[]\n   resultCode: ResultsCode\n   messages: string[]\n   data: D\n}\nexport enum ResultsCode {\n   OK = 0,\n   ERROR= 1\n}\nexport type LoginParamsType = {\n   email: string\n   password: string\n   rememberMe: boolean\n   captcha?: string\n}","import {setAppErrorAC, setAppStatusAC} from \"../App/app-reducer\";\nimport {ResponseType} from \"../api/todolists-api\";\nimport {Dispatch} from \"redux\";\n\nexport const handleServerAppError = <D>(data: ResponseType<D>, dispatch: Dispatch) => {\n   if (data.messages.length) {\n      dispatch(setAppErrorAC({error: data.messages[0]}))\n   } else {\n      dispatch(setAppErrorAC({error: 'Some error occurred'}))\n   }\n   dispatch(setAppStatusAC({status: 'failed'}));\n }\n\n export const handleServerNetworkError = (err: { message: string}, dispatch: Dispatch) => {\n    dispatch(setAppErrorAC({error: err.message ? err.message : 'Some error occurred'}))\n    dispatch(setAppStatusAC({status: 'failed'}));\n }","import {handleServerAppError, handleServerNetworkError} from \"../../utils/error-utils\";\nimport {setAppStatusAC} from \"../../App/app-reducer\";\nimport {authAPI, LoginParamsType, ResultsCode} from \"../../api/todolists-api\";\nimport {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\nimport {AppThunkType} from \"../../App/store\";\nimport {clearState} from \"../TodolistsList/todolists-reducer\";\n\nconst initialState = {\n   isLoggedIn: false\n}\n\nconst authSlice = createSlice({\n   name: 'auth',\n   initialState: initialState,\n   reducers: {\n      setIsLoggedInAC: (state, action: PayloadAction<ActionPayloadType>) => {\n         state.isLoggedIn = action.payload.value\n      },\n   },\n})\nexport const authReducer = authSlice.reducer;\nexport const {setIsLoggedInAC} = authSlice.actions;\n/**\n * Thunk Creator\n */\nexport const loginTC = (data: LoginParamsType): AppThunkType => async dispatch  => {\n   dispatch(setAppStatusAC({status: 'loading'}));\n   try {\n      const res = await authAPI.auth(data);\n      if (res.data.resultCode === ResultsCode.OK) {\n         dispatch(setIsLoggedInAC({value: true}));\n      } else {\n         handleServerAppError(res.data, dispatch);\n      }\n   } catch (err) {\n      handleServerNetworkError(err, dispatch);\n   } finally {\n      dispatch(setAppStatusAC({status: 'succeeded'}));\n   }\n};\nexport const logoutTC = ():AppThunkType => async dispatch => {\n   dispatch(setAppStatusAC({status: 'loading'}));\n   try {\n      const res = await authAPI.logout()\n      if (res.data.resultCode === ResultsCode.OK) {\n         dispatch(setIsLoggedInAC({value: false}));\n      } else {\n         handleServerAppError(res.data, dispatch);\n      }\n   } catch (err) {\n      handleServerNetworkError(err, dispatch);\n   } finally {\n      dispatch(setAppStatusAC({status: 'succeeded'}));\n      dispatch(clearState())\n   }\n}\n/**\n * Types\n */\ntype ActionPayloadType = {\n   value: boolean\n}\n","import {authAPI, ResultsCode} from \"../api/todolists-api\";\nimport {handleServerAppError, handleServerNetworkError} from \"../utils/error-utils\";\nimport {setIsLoggedInAC} from \"../features/Login/auth-reducer\";\nimport {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\nimport {AppThunkType} from \"./store\";\n\nconst initialState: InitialStateType = {\n   status: 'idle',\n   error: null,\n   initialized: false\n}\n\nconst appSlice = createSlice({\n   name: 'app',\n   initialState: initialState,\n   reducers: {\n      setAppErrorAC: (state, action: PayloadAction<SetAppErrorPayloadType>) => {\n         state.error = action.payload.error;\n      },\n      setAppStatusAC: (state, action: PayloadAction<SetAppStatusPayloadType>) => {\n         state.status = action.payload.status;\n      },\n      setAppInitializedAC: (state, action: PayloadAction<SetAppInitPayloadType>) => {\n         state.initialized = action.payload.value;\n      }\n   }\n})\n\nexport const appReducer = appSlice.reducer;\nexport const {setAppStatusAC, setAppInitializedAC, setAppErrorAC} = appSlice.actions;\n/**\n * Thunk Creator\n */\nexport const initializedAppTC = (): AppThunkType => async dispatch => {\n   try {\n      const res = await authAPI.me()\n      dispatch(setAppInitializedAC({value: true}));\n      if (res.data.resultCode === ResultsCode.OK) {\n         dispatch(setIsLoggedInAC({value: true}))\n      } else {\n         handleServerAppError(res.data, dispatch)\n      }\n   } catch (err) {\n      handleServerNetworkError(err, dispatch);\n   }\n}\n/**\n * Types\n */\ntype SetAppErrorPayloadType = { error: string | null}\ntype SetAppStatusPayloadType = { status: RequestStatusType}\ntype SetAppInitPayloadType = {value: boolean};\n\nexport type RequestStatusType = 'idle' | 'loading' | 'succeeded' | 'failed'\nexport type InitialStateType = {\n   status: RequestStatusType\n   error: string | null\n   initialized: boolean\n}\n","import {ResultsCode, todolistsAPI, TodolistType} from \"../../api/todolists-api\";\nimport {AppThunkType} from \"../../App/store\";\nimport {RequestStatusType, setAppStatusAC} from \"../../App/app-reducer\";\nimport {handleServerAppError, handleServerNetworkError} from \"../../utils/error-utils\";\nimport {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\n\n\nconst initialState: TodolistDomainType[] = [];\n\nconst todolistsSlice = createSlice({\n  name: 'todolists',\n  initialState,\n  reducers: {\n    removeTodolistAC: (state, action: PayloadAction<RemoveTodolistPayloadType>) => {\n      const index = state.findIndex(tl => tl.id === action.payload.todolistId);\n      state.splice(index, 1);\n    },\n    addTodolistAC: (state, action: PayloadAction<AddTodolistPayloadType>) => {\n      state.unshift({...action.payload.todolist, filter: \"all\", entityStatus: \"idle\"});\n    },\n    changeTodolistTitleAC: (state, action: PayloadAction<ChangeTodolistTitlePayloadType>) => {\n      const index = state.findIndex(tl => tl.id === action.payload.todolistId);\n      state[index].title = action.payload.title;\n    },\n    changeTodolistFilterAC: (state, action: PayloadAction<ChangeTodolistFilterPayloadType>) => {\n      const index = state.findIndex(tl => tl.id === action.payload.todolistId);\n      state[index].filter = action.payload.filter;\n    },\n    changeTodolistEntityStatusAC: (state, action: PayloadAction<ChangeTodolistEntityStatusPayloadType>) => {\n      const index = state.findIndex(tl => tl.id === action.payload.todolistId);\n      state[index].entityStatus = action.payload.status;\n    },\n    setTodolistsAC: (state, action: PayloadAction<SetTodolistsPayloadType>) => {\n      return action.payload.todolists.map(tl => ({...tl, filter: \"all\", entityStatus: \"idle\"}));\n    },\n    clearState: () => {\n      return {\n        ...initialState\n      }\n    }\n  }\n})\n\nexport const todolistsReducer = todolistsSlice.reducer;\nexport const {\n  removeTodolistAC,\n  addTodolistAC,\n  changeTodolistTitleAC,\n  changeTodolistFilterAC,\n  changeTodolistEntityStatusAC,\n  setTodolistsAC,\n  clearState\n} = todolistsSlice.actions;\n\n/**\n * Thunk Creator\n */\nexport const fetchTodolistsTC = (): AppThunkType => async dispatch => {\n  dispatch(setAppStatusAC({status: 'loading'}));\n  try {\n    const res = await todolistsAPI.getTodolist();\n    dispatch(setTodolistsAC({todolists: res.data}));\n  } catch (err) {\n    handleServerNetworkError(err, dispatch)\n  } finally {\n    dispatch(setAppStatusAC({status: 'succeeded'}));\n  }\n}\nexport const addTodolistTC = (title: string): AppThunkType => async dispatch => {\n  dispatch(setAppStatusAC({status: 'loading'}));\n  try {\n    const res = await todolistsAPI.createTodolist(title);\n    if (res.data.resultCode === ResultsCode.OK) {\n      dispatch(addTodolistAC({todolist: res.data.data.item}));\n    } else {\n      handleServerAppError(res.data, dispatch)\n    }\n  } catch (err) {\n    handleServerNetworkError(err, dispatch)\n  } finally {\n    dispatch(setAppStatusAC({status: 'succeeded'}));\n  }\n}\nexport const removeTodolistTC = (todolistId: string): AppThunkType => async dispatch => {\n  dispatch(setAppStatusAC({status: 'loading'}));\n  dispatch(changeTodolistEntityStatusAC({todolistId, status: 'loading'}));\n  try {\n    const res = await todolistsAPI.deleteTodolist(todolistId);\n    if (res.data.resultCode === ResultsCode.OK) {\n      dispatch(removeTodolistAC({todolistId: todolistId}));\n    } else {\n      handleServerAppError(res.data, dispatch)\n    }\n  } catch (err) {\n    handleServerNetworkError(err, dispatch)\n  } finally {\n    dispatch(setAppStatusAC({status: 'succeeded'}));\n  }\n}\nexport const changeTodolistTitleTC = (todolistId: string, title: string): AppThunkType => async dispatch => {\n  dispatch(setAppStatusAC({status: 'loading'}));\n  try {\n    const res = await todolistsAPI.updateTodolistTitle(todolistId, title);\n    if (res.data.resultCode === ResultsCode.OK) {\n      dispatch(changeTodolistTitleAC({todolistId, title}));\n    } else {\n      handleServerAppError(res.data, dispatch)\n    }\n  } catch (err) {\n    handleServerNetworkError(err, dispatch)\n  } finally {\n    dispatch(setAppStatusAC({status: 'succeeded'}));\n  }\n}\n\n/**\n * Types\n */\nexport type FilterValuesType = 'all' | 'active' | 'completed';\nexport type TodolistDomainType = TodolistType & {\n  filter: FilterValuesType\n  entityStatus: RequestStatusType\n}\n\nexport type RemoveTodolistPayloadType = { todolistId: string }\nexport type AddTodolistPayloadType = { todolist: TodolistType }\ntype ChangeTodolistTitlePayloadType = { todolistId: string, title: string }\ntype ChangeTodolistFilterPayloadType = { todolistId: string, filter: FilterValuesType }\ntype ChangeTodolistEntityStatusPayloadType = { todolistId: string, status: RequestStatusType }\nexport type SetTodolistsPayloadType = { todolists: TodolistType[] }\n\n\n\n","import {ResultsCode, taskAPI, TaskPriorities, TaskStatuses, TaskType} from \"../../api/todolists-api\";\nimport {addTodolistAC, clearState, removeTodolistAC, setTodolistsAC} from \"./todolists-reducer\";\nimport {AppThunkType} from \"../../App/store\";\nimport {setAppStatusAC} from \"../../App/app-reducer\";\nimport {handleServerAppError, handleServerNetworkError} from \"../../utils/error-utils\";\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\n\nexport const fetchTask = createAsyncThunk(\n  'tasks/fetchTask',\n  (todolistId: string, thunkAPI) => {\n    thunkAPI.dispatch(setAppStatusAC({status: 'loading'}));\n    return taskAPI.getTasks(todolistId)\n      .then((res) => {\n        const tasks = res.data.items\n        thunkAPI.dispatch(setAppStatusAC({status: 'succeeded'}));\n        return {tasks, todolistId}\n      })\n  })\n\nconst taskSlice = createSlice({\n  name: 'tasks',\n  initialState: {} as TasksStateType,\n  reducers: {\n    removeTaskAC: (state, action: PayloadAction<RemoveTaskPayloadType>) => {\n      const index = state[action.payload.todolistId].findIndex(t => t.id === action.payload.taskId);\n      state[action.payload.todolistId].splice(index, 1);\n    },\n    addTaskAC: (state, action: PayloadAction<AddTaskPayloadType>) => {\n      state[action.payload.task.todoListId].unshift(action.payload.task);\n    },\n    updateTaskAC: (state, action: PayloadAction<UpdateTaskPayloadType>) => {\n      const task = state[action.payload.todolistId];\n      const index = task.findIndex(t => t.id === action.payload.taskId);\n      task[index] = {...task[index], ...action.payload.model};\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(addTodolistAC, (state, action) => {\n      state[action.payload.todolist.id] = [];\n    })\n      .addCase(removeTodolistAC, (state, action) => {\n        delete state[action.payload.todolistId];\n      })\n      .addCase(setTodolistsAC, (state, action) => {\n        action.payload.todolists.forEach(tl => state[tl.id] = []);\n      })\n      .addCase(clearState, () => {\n        return {} as TasksStateType\n      })\n      .addCase(fetchTask.fulfilled, (state, action) => {\n        state[action.payload.todolistId] = action.payload.tasks;\n      })\n  }\n})\n\nexport const tasksReducer = taskSlice.reducer\nexport const {\n  removeTaskAC,\n  addTaskAC,\n  updateTaskAC,\n} = taskSlice.actions;\n/**\n * Thunk Creator\n */\n\nexport const removeTaskTC = (taskId: string, todolistId: string): AppThunkType => async dispatch => {\n  dispatch(setAppStatusAC({status: 'loading'}));\n  try {\n    const res = await taskAPI.deleteTask(todolistId, taskId);\n    if (res.data.resultCode === ResultsCode.OK) {\n      dispatch(removeTaskAC({taskId, todolistId}));\n    } else {\n      handleServerAppError(res.data, dispatch);\n    }\n  } catch (err) {\n    handleServerNetworkError(err, dispatch);\n  } finally {\n    dispatch(setAppStatusAC({status: 'succeeded'}));\n  }\n}\nexport const addTaskTC = (title: string, todolistID: string): AppThunkType => async dispatch => {\n  dispatch(setAppStatusAC({status: 'loading'}));\n  try {\n    const res = await taskAPI.createTask(todolistID, title);\n    if (res.data.resultCode === ResultsCode.OK) {\n      dispatch(addTaskAC({task: res.data.data.item}));\n    } else {\n      handleServerAppError(res.data, dispatch);\n    }\n  } catch (err) {\n    handleServerNetworkError(err, dispatch);\n  } finally {\n    dispatch(setAppStatusAC({status: 'succeeded'}));\n  }\n}\nexport const updateTaskTC = (taskId: string, model: UpdateDomainTaskModelType, todolistId: string): AppThunkType =>\n  async (dispatch,\n         getState) => {\n    dispatch(setAppStatusAC({status: 'loading'}));\n    try {\n      const state = getState();\n      const task = state.tasks[todolistId].find(t => t.id === taskId);\n      if (!task) {\n        console.warn('Task not found in the state');\n        return;\n      }\n      const apiModel = {\n        title: task.title,\n        description: task.description,\n        status: task.status,\n        priority: task.priority,\n        startDate: task.startDate,\n        deadline: task.deadline,\n        ...model\n      }\n      const res = await taskAPI.updateTask(todolistId, taskId, apiModel)\n      if (res.data.resultCode === ResultsCode.OK) {\n        dispatch(updateTaskAC({taskId, model, todolistId}));\n      } else {\n        handleServerAppError(res.data, dispatch)\n      }\n    } catch (err) {\n      handleServerNetworkError(err, dispatch)\n    } finally {\n      dispatch(setAppStatusAC({status: 'succeeded'}));\n    }\n  }\n\n/**\n * types\n */\ntype RemoveTaskPayloadType = { taskId: string, todolistId: string }\ntype AddTaskPayloadType = { task: TaskType }\ntype UpdateTaskPayloadType = { taskId: string, model: UpdateDomainTaskModelType, todolistId: string }\n\nexport type TasksStateType = {\n  [key: string]: TaskType[]\n};\n\ntype UpdateDomainTaskModelType = {\n  title?: string\n  description?: string\n  status?: TaskStatuses\n  priority?: TaskPriorities\n  startDate?: string\n  deadline?: string\n};\n","import {combineReducers} from \"redux\";\nimport {todolistsReducer} from \"../features/TodolistsList/todolists-reducer\";\nimport {tasksReducer} from \"../features/TodolistsList/tasks-reducer\";\nimport thunk, {ThunkAction} from \"redux-thunk\";\nimport {appReducer} from \"./app-reducer\";\nimport {authReducer} from \"../features/Login/auth-reducer\";\nimport {Action, configureStore} from \"@reduxjs/toolkit\";\n\nconst rootReducer = combineReducers({\n   todolists: todolistsReducer,\n   tasks: tasksReducer,\n   app: appReducer,\n   auth: authReducer\n});\n\nexport const store = configureStore({\n   reducer: rootReducer,\n   middleware: getDefaultMiddleware => getDefaultMiddleware().prepend(thunk)\n})\n\nexport type AppRootStateType = ReturnType<typeof rootReducer>\n\n\nexport type AppThunkType = ThunkAction<void, AppRootStateType, unknown, Action<string>>\n\n","import React, {useCallback} from 'react';\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {logoutTC} from \"../../features/Login/auth-reducer\";\nimport {AppRootStateType} from \"../../App/store\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n   createStyles({\n      root: {\n         flexGrow: 1,\n      },\n      menuButton: {\n         marginRight: theme.spacing(2),\n      },\n      header: {\n         background: 'linear-gradient(90deg, rgba(43,86,123,1) 0%, rgba(66,123,172,1) 43%, rgba(93,151,200,1) 100%)'\n      },\n      toolbar: {\n         display: 'flex',\n         justifyContent: 'space-between'\n      }\n   }),\n);\n\nexport const Header: React.FC = () => {\n   const classes = useStyles();\n   const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn);\n   const dispatch = useDispatch();\n\n   const logoutHandler = useCallback(() => {\n      dispatch(logoutTC());\n   },[dispatch])\n\n   return (\n      <div className={classes.root}>\n         <AppBar position=\"static\" className={classes.header}>\n            <Toolbar className={classes.toolbar}>\n               <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                  <MenuIcon/>\n               </IconButton>\n               {isLoggedIn\n                  ? <Button onClick={logoutHandler} color=\"inherit\">Log out</Button>\n                  : <Button color=\"inherit\"><a href={'https://social-network.samuraijs.com/'}\n                                               rel={'noreferrer'}\n                                               target={'_blank'}\n                                               style={{color: 'inherit'}}> Registration\n                  </a></Button>\n               }\n            </Toolbar>\n         </AppBar>\n      </div>\n   )\n}\n","import React, {ChangeEvent, KeyboardEvent, useState} from \"react\";\nimport {IconButton, TextField} from \"@material-ui/core\";\nimport {ControlPoint} from \"@material-ui/icons\";\n\nexport type AddItemFormPropsType = {\n   addItem: (title: string) => void\n   disabled?: boolean\n}\n\n\nexport const AddItemForm: React.FC<AddItemFormPropsType> = React.memo ( ({addItem, disabled}) => {\n   const [newTaskTitle, setNewTaskTitle] = useState('');\n   const [error, setError] = useState<string | null>(null);\n\n   const onChangeHandler = (event: ChangeEvent<HTMLInputElement>) => {\n      setNewTaskTitle(event.currentTarget.value);\n   };\n   const onKeyPressHandler = (event: KeyboardEvent<HTMLInputElement>) => {\n      if (error !== null) {\n         setError(null);\n      }\n      if (event.key === 'Enter') {\n         addNewTask();\n      }\n   };\n   const addNewTask = () => {\n      const trimmedNewTaskTitle = newTaskTitle.trim();\n      if (trimmedNewTaskTitle) {\n         addItem(trimmedNewTaskTitle)\n      } else {\n         setError('Title is required')\n      }\n      setNewTaskTitle('');\n   };\n\n   return (\n      <div>\n         <TextField\n            error={!!error}\n            value={newTaskTitle}\n            onChange={onChangeHandler}\n            onKeyPress={onKeyPressHandler}\n            variant={\"outlined\"}\n            label={'Type value'}\n            helperText={error}\n            disabled={disabled}\n         />\n         <IconButton onClick={addNewTask} color={\"primary\"} disabled={disabled}>\n            <ControlPoint/>\n         </IconButton>\n      </div>\n   )\n});","import React, {ChangeEvent, KeyboardEvent, useCallback, useState} from \"react\";\nimport {TextField} from \"@material-ui/core\";\n\nexport type EditableSpanPropsType = {\n   titleForSpan: string\n   onChange: (newValue: string) => void\n}\nexport const EditableSpan: React.FC<EditableSpanPropsType> = React.memo((props) => {\n   const {titleForSpan, onChange} = props;\n\n   const [editMode, setEditMode] = useState(false);\n   const [title, setTitle] = useState('');\n\n   const activateEditMode = useCallback(() => {\n      console.log('run')\n      setEditMode(true);\n      setTitle(titleForSpan);\n   }, [titleForSpan]);\n\n   const activateViewMode = useCallback(() => {\n      if (title.trim()) {\n         setEditMode(false);\n         onChange(title);\n      }\n   },[onChange, title]);\n   const onChangeTitleSpanHandler = (e: ChangeEvent<HTMLInputElement>) => setTitle(e.currentTarget.value);\n\n   const onKeyPressEnterHandler = (e: KeyboardEvent<HTMLInputElement>) => {\n      if (e.key === 'Enter') {\n         activateViewMode();\n      }\n   };\n\n   return (\n      editMode\n         ? <TextField\n            onBlur={activateViewMode}\n            value={title}\n            onChange={onChangeTitleSpanHandler}\n            autoFocus\n            onKeyPress={onKeyPressEnterHandler}\n         />\n         : <span onDoubleClick={activateEditMode}>{titleForSpan}</span>\n   )\n});","import React, {ChangeEvent, useCallback} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {removeTaskTC, updateTaskTC} from \"../../tasks-reducer\";\nimport {Checkbox, IconButton} from \"@material-ui/core\";\nimport {EditableSpan} from \"../../../../components/EditableSpan/EditableSpan\";\nimport {Delete} from \"@material-ui/icons\";\nimport {TaskStatuses, TaskType} from \"../../../../api/todolists-api\";\n\n\nexport type TaskPropsType = {\n   task: TaskType\n   todolistId: string\n}\n\nexport const Task: React.FC<TaskPropsType> = React.memo((props) => {\n\n   const {task, todolistId} = props;\n\n   const dispatch = useDispatch();\n\n   const removeTask = useCallback(() => {\n      return dispatch(removeTaskTC(task.id, todolistId))\n      }, [dispatch, task.id, todolistId]);\n\n   const changeStatusHandler = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n      const newTaskIsDone = e.currentTarget.checked;\n      const status = newTaskIsDone ? TaskStatuses.Completed : TaskStatuses.New;\n      dispatch(updateTaskTC(task.id, {status}, todolistId));\n   }, [dispatch, task.id, todolistId]);\n\n   const changeTaskTitleHandler = useCallback((newTitle: string) => {\n      dispatch(updateTaskTC(task.id, {title: newTitle}, todolistId));\n   }, [dispatch, task.id, todolistId]);\n\n\n   return (\n      <li >\n         <Checkbox\n            checked={task.status === TaskStatuses.Completed}\n            onChange={changeStatusHandler}\n         />\n         <EditableSpan titleForSpan={task.title} onChange={changeTaskTitleHandler}/>\n         <IconButton onClick={removeTask}>\n            <Delete/>\n         </IconButton>\n      </li>\n   )\n});","import React, {useCallback, useEffect} from \"react\";\nimport {AddItemForm} from \"../../../components/AddItemForm/AddItemForm\";\nimport {EditableSpan} from \"../../../components/EditableSpan/EditableSpan\";\nimport {Button, IconButton} from \"@material-ui/core\";\nimport {Delete} from \"@material-ui/icons\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppRootStateType} from \"../../../App/store\";\nimport {addTaskTC, fetchTask} from \"../tasks-reducer\";\nimport {Task} from \"./Task/Task\";\nimport {\n   changeTodolistFilterAC,\n   changeTodolistTitleTC,\n   FilterValuesType,\n   removeTodolistTC, TodolistDomainType\n} from \"../todolists-reducer\";\nimport {TaskStatuses, TaskType} from \"../../../api/todolists-api\";\n\nexport type TodoListPropsType = {\n   todolist: TodolistDomainType\n}\n\nexport const Todolist: React.FC<TodoListPropsType> = React.memo(({todolist}) => {\n\n   const {id: todolistId, filter, title, entityStatus} = todolist\n\n   const dispatch = useDispatch();\n   const tasks = useSelector<AppRootStateType, TaskType[]>(state => state.tasks[todolistId]);\n\n   useEffect(() => {\n      dispatch(fetchTask(todolistId))\n      // eslint-disable-next-line\n   }, []);\n\n\n   const filterClickHandler = useCallback((filterValue: FilterValuesType) => {\n      switch (filterValue) {\n         case \"all\":\n            dispatch(changeTodolistFilterAC({todolistId, filter: \"all\"}));\n            break;\n         case \"active\":\n            dispatch(changeTodolistFilterAC({todolistId, filter: 'active'}));\n            break;\n         case \"completed\":\n            dispatch(changeTodolistFilterAC({todolistId, filter: 'completed'}));\n            break;\n      }\n   }, [todolistId, dispatch]);\n\n   const activeClassButton = useCallback((filterStatus: FilterValuesType) => {\n      return filter === filterStatus ? 'contained' : 'text';\n   }, [filter]);\n\n   const removeTodoList = useCallback((todolistId: string) => {\n      dispatch(removeTodolistTC(todolistId));\n   }, [dispatch]);\n\n   const addTaskForTodoList = useCallback((title: string) => {\n      dispatch(addTaskTC(title, todolistId));\n   }, [dispatch, todolistId]);\n\n   const changeTodoListTitle = useCallback((newTitle: string) => {\n      dispatch(changeTodolistTitleTC(todolistId, newTitle));\n   }, [dispatch, todolistId]);\n\n   const getFilteredTasks = useCallback(() => {\n      const filteredTasks = tasks\n      switch (filter) {\n         case \"active\":\n            return filteredTasks.filter(t => t.status === TaskStatuses.New);\n         case \"completed\":\n            return filteredTasks.filter(t => t.status === TaskStatuses.Completed);\n         default:\n            return filteredTasks;\n      }\n   }, [filter, tasks]);\n   const GetTaskForTodoList = getFilteredTasks()\n\n   return (\n      <div>\n         <h3>\n            <EditableSpan titleForSpan={title} onChange={changeTodoListTitle}/>\n            <IconButton onClick={() => removeTodoList(todolistId)} disabled={entityStatus === 'loading'}>\n               <Delete/>\n            </IconButton>\n         </h3>\n         <AddItemForm addItem={addTaskForTodoList} disabled={entityStatus === 'loading'}/>\n         <ul style={{minHeight: '250px'}}>\n            {\n               GetTaskForTodoList.map(t => {\n                  return <Task\n                     todolistId={todolistId}\n                     task={t}\n                     key={t.id}\n                  />\n               })\n            }\n         </ul>\n         <div>\n            <Button\n               variant={activeClassButton(\"all\")}\n               onClick={() => filterClickHandler('all')}>All\n            </Button>\n            <Button\n               color={\"primary\"}\n               variant={activeClassButton(\"active\")}\n               onClick={() => filterClickHandler('active')}>Active\n            </Button>\n            <Button\n               color={\"secondary\"}\n               variant={activeClassButton(\"completed\")}\n               onClick={() => filterClickHandler('completed')}>Completed\n            </Button>\n         </div>\n      </div>\n   );\n});\n\n\n","import React, {useCallback, useEffect} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppRootStateType} from \"../../App/store\";\nimport {addTodolistTC, fetchTodolistsTC, TodolistDomainType} from \"./todolists-reducer\";\nimport {Grid, Paper} from \"@material-ui/core\";\nimport {AddItemForm} from \"../../components/AddItemForm/AddItemForm\";\nimport {Todolist} from \"./Todolist/Todolist\";\nimport {Redirect} from \"react-router-dom\";\n\nexport const TodolistsList: React.FC = () => {\n\n   const dispatch = useDispatch();\n   const todolists = useSelector<AppRootStateType, TodolistDomainType[]>(state => state.todolists);\n   const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\n\n\n   useEffect(() => {\n      if (!isLoggedIn) {\n         return\n      }\n      dispatch(fetchTodolistsTC());\n      // eslint-disable-next-line\n   }, [isLoggedIn]);\n\n   const addTodoListForm = useCallback((title: string) => {\n      const action = addTodolistTC(title)\n      dispatch(action);\n   }, [dispatch]);\n\n   if (!isLoggedIn) {\n      return <Redirect to={'/login'}/>\n   }\n\n   return (\n      <>\n         <Grid container style={{padding: '20px', display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\n            <Paper style={{padding: '10px'}}>\n               <AddItemForm addItem={addTodoListForm}/>\n            </Paper>\n         </Grid>\n         <Grid container spacing={5}>\n            {\n               todolists.map(tl => {\n                  return <Grid item key={tl.id}>\n                     <Paper elevation={3} style={{padding: '10px'}}>\n                        <Todolist\n                           key={tl.id}\n                           todolist={tl}\n                        />\n                     </Paper>\n                  </Grid>\n               })\n            }\n         </Grid>\n      </>\n   )\n}","import React from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert, {AlertProps} from '@material-ui/lab/Alert';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppRootStateType} from \"../../App/store\";\nimport {setAppErrorAC} from \"../../App/app-reducer\";\n\nfunction Alert(props: AlertProps) {\n   return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\n\nexport const ErrorSnackbar = () => {\n   const error = useSelector<AppRootStateType, string | null>(state => state.app.error);\n   const dispatch = useDispatch();\n\n   const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\n      if (reason === 'clickaway') {\n         return;\n      }\n      dispatch(setAppErrorAC({error: null}))\n   };\n\n   const isOpen = error !== null\n\n   return (\n         <Snackbar open={isOpen} autoHideDuration={6000} onClose={handleClose}>\n            <Alert onClose={handleClose} severity=\"error\">\n               {error}\n            </Alert>\n         </Snackbar>\n   );\n}\n","import React from 'react'\nimport {Button, Checkbox, FormControl, FormControlLabel, FormGroup, FormLabel, Grid, TextField} from '@material-ui/core'\nimport {useFormik} from \"formik\";\nimport {loginTC} from \"./auth-reducer\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppRootStateType} from \"../../App/store\";\nimport {Redirect} from 'react-router-dom';\n\nexport const Login = React.memo(() => {\n\n   const dispatch = useDispatch();\n\n   const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn);\n\n   const formik = useFormik({\n      validate: (values) => {\n         if (!values.email) {\n            return {\n               email: 'Email is required'\n            }\n         } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n            return {\n               email: 'Invalid email address'\n            }\n         }\n         if (!values.password) {\n            return {\n               password: 'Password is required'\n            }\n         }\n      },\n      initialValues: {\n         email: '',\n         password: '',\n         rememberMe: false,\n      },\n      onSubmit: values => {\n         dispatch(loginTC(values))\n      },\n   });\n\n   if (isLoggedIn) {\n      return <Redirect to={'/'}/>\n   }\n\n   return <Grid container justify=\"center\" alignItems=\"center\" style={{height: '80vh'}}>\n         <form onSubmit={formik.handleSubmit}\n               style={{backgroundColor: '#ffffff', padding: '20px', borderRadius: '10px'}}>\n            <FormControl>\n               <FormLabel style={{lineHeight: '24px', fontSize: '18px'}}>\n                  <p>To log in get registered\n                     <a href={'https://social-network.samuraijs.com/'}\n                        rel={'noreferrer'}\n                        target={'_blank'}> here\n                     </a>\n                  </p>\n                  <p>or use common test account credentials:</p>\n                  <p>Email: free@samuraijs.com</p>\n                  <p>Password: free</p>\n               </FormLabel>\n               <FormGroup>\n                  <TextField\n                     {...formik.getFieldProps('email')}\n                     error={!!formik.errors.email}\n                     label=\"Email\"\n                     margin=\"normal\"\n                  />\n                  {formik.errors.email ?\n                     <div style={{fontSize: '14px', color: 'red'}}>{formik.errors.email}</div> : null}\n                  <TextField\n                     {...formik.getFieldProps('password')}\n                     error={!!formik.errors.password}\n                     type=\"password\"\n                     label=\"Password\"\n                     margin=\"normal\"\n                  />\n                  {formik.errors.password ?\n                     <div style={{fontSize: '14px', color: 'red'}}>{formik.errors.password}</div> : null}\n                  <FormControlLabel\n                     label={'Remember me'}\n                     control={<Checkbox\n                        {...formik.getFieldProps('rememberMe')}\n                        checked={formik.values.rememberMe}\n                     />}\n                  />\n                  <Grid container justify=\"space-between\" style={{width: '100%', display: 'flex'}}>\n                     <Button style={{width: '220px'}} type={'submit'}\n                             variant={'contained'} color={'primary'}>Login</Button>\n                     <Button onClick={formik.handleReset} type={'reset'} variant={'contained'}\n                             color={'default'}>reset</Button>\n                  </Grid>\n               </FormGroup>\n            </FormControl>\n         </form>\n   </Grid>\n})\n\n","import React, {useEffect} from 'react';\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {Header} from \"../components/Header/Header\";\r\nimport {TodolistsList} from \"../features/TodolistsList/TodolistsList\";\r\nimport {ErrorSnackbar} from \"../components/ErrorSnackbar/ErrorSnackbar\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"./store\";\r\nimport {initializedAppTC, RequestStatusType} from \"./app-reducer\";\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport './App.scss'\r\nimport {BrowserRouter, Route} from \"react-router-dom\";\r\nimport {Login} from \"../features/Login/Login\";\r\nimport {Grid} from \"@material-ui/core\";\r\n\r\n\r\n\r\nexport const App = () => {\r\n\r\n   const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status);\r\n   const isInitialized = useSelector<AppRootStateType, boolean>(state => state.app.initialized);\r\n   const dispatch = useDispatch();\r\n\r\n\r\n   useEffect(() => {\r\n      dispatch(initializedAppTC())\r\n      // eslint-disable-next-line\r\n   }, []);\r\n\r\n\r\n   if (!isInitialized) {\r\n      return <Container>\r\n         <Grid container justify={'center'} alignItems={'center'} style={{height: '100vh'}}>\r\n            <CircularProgress color={'secondary'} size={130}/>\r\n         </Grid>\r\n      </Container>\r\n   }\r\n\r\n   return (\r\n      <BrowserRouter>\r\n         <div className=\"App\">\r\n            <ErrorSnackbar/>\r\n            <Header/>\r\n            <div className={'progress'}>\r\n               {status === 'loading' && <LinearProgress color=\"secondary\"/>}\r\n            </div>\r\n            <Container fixed>\r\n               <Route exact path={'/'} render={() => <TodolistsList/>}/>\r\n               <Route path={'/login'} render={() => <Login/>}/>\r\n            </Container>\r\n         </div>\r\n      </BrowserRouter>\r\n   );\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./App/store\";\r\nimport {App} from \"./App/App\";\r\n\r\nReactDOM.render(\r\n   <Provider store={store}>\r\n      <App/>\r\n   </Provider>, document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}